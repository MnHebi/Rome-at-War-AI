
(defrule
	(goal prevent-resign NO)
	(goal team-game NO)
	(game-time > 300)
	(goal military-superiority INFERIOR)
	(building-type-count town-center == 0)
	(building-type-count wonder == 0)
	(unit-type-count villager < 5)
=>
	(set-goal resign-state YES)
	(chat-to-enemies-using-range 22300 26)
)

(defrule
	(goal prevent-resign NO)
	(goal team-game YES)
	(game-time > 300)
	(goal military-superiority INFERIOR)
	(building-type-count town-center == 0)
	(building-type-count wonder == 0)
	(unit-type-count villager == 0)
=>
	(set-goal resign-state YES)
	(chat-to-all-using-range 22300 26)
)

(defrule
	(goal prevent-resign NO)
	(goal team-game NO)
	(goal resign-state YES)
=>
	(resign)
)

(defrule
	(goal prevent-resign NO)
	(goal team-game YES)
	(goal resign-state YES)
	(player-in-game any-ally)
=>
	(release-escrow food)
	(release-escrow wood)
	(release-escrow gold)
	(release-escrow stone)
	(tribute-to-player this-any-ally food 10000)
	(tribute-to-player this-any-ally wood 10000)
	(tribute-to-player this-any-ally gold 10000)
	(tribute-to-player this-any-ally stone 10000)
	
	(resign)
)